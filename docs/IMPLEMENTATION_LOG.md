# åŒå¿—ç¤¾å¤§å­¦ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¢ãƒ—ãƒª - å®Ÿè£…ãƒ­ã‚°

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

åŒå¿—ç¤¾å¤§å­¦å­¦ç”Ÿå‘ã‘ã‚¦ã‚§ãƒ–ãƒ¡ãƒ‡ã‚£ã‚¢ã‚µã‚¤ãƒˆã®å®Ÿè£…è¨˜éŒ²ã€‚Next.js 15.5.2 + Supabase + NextAuth.jsã‚’ä½¿ç”¨ã—ãŸãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

## ğŸš€ å®Ÿè£…å®Œäº†æ©Ÿèƒ½ï¼ˆ2025-09-07 æœ€æ–°ç‰ˆï¼‰

### âœ… Phase 1: åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆå®Œäº†ï¼‰
- **æ—¥ç¨‹**: 2025-09-03
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Supabaseæ¥ç¶šã€postsãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ
- **èªè¨¼**: NextAuth.jsè¨­å®šã€ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³
- **ãƒ«ãƒ¼ãƒˆä¿è­·**: middleware.tså®Ÿè£…

### âœ… Phase 2: ç®¡ç†è€…æ©Ÿèƒ½ï¼ˆå®Œäº†ï¼‰  
- **æ—¥ç¨‹**: 2025-09-04ï½09-06
- **è¨˜äº‹CRUD**: ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤ãƒ»å…¬é–‹æ©Ÿèƒ½
- **ã‚¨ãƒ‡ã‚£ã‚¿**: @uiw/react-md-editorçµ±åˆ
- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: è¨˜äº‹ç®¡ç†ç”»é¢

### âœ… Phase 3: ãƒ‘ãƒ–ãƒªãƒƒã‚¯æ©Ÿèƒ½ï¼ˆå®Œäº†ï¼‰
- **æ—¥ç¨‹**: 2025-09-07
- **ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸**: å…¬é–‹è¨˜äº‹ä¸€è¦§è¡¨ç¤º
- **è¨˜äº‹è©³ç´°**: Markdownè¡¨ç¤ºã€é–¢é€£è¨˜äº‹
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: PostCardã€Headerã€RelatedPosts

### âœ… Phase 4: ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Šï¼ˆå®Œäº†ï¼‰
- **æ—¥ç¨‹**: 2025-09-07
- **TypeScript**: å‹å®‰å…¨æ€§å‘ä¸Šã€ESLintã‚¨ãƒ©ãƒ¼ä¿®æ­£
- **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£**: lib/utils.tsçµ±åˆ
- **å‹å®šç¾©**: types/database.tsæ•´å‚™

### âœ… Phase 5: ã‚«ãƒ†ã‚´ãƒªãƒšãƒ¼ã‚¸å®Ÿè£…ï¼ˆå®Œäº†ï¼‰
- **æ—¥ç¨‹**: 2025-09-07
- **API**: `/api/public-posts/category/[category]`
- **ãƒšãƒ¼ã‚¸**: `/category/[category]`å®Ÿè£…
- **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹è¡¨ç¤º

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Next.js 15.5.2 (App Router + Turbopack)
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL (Supabase)
- **èªè¨¼**: NextAuth.js v4.24.11
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS 4.0
- **ã‚¨ãƒ‡ã‚£ã‚¿**: @uiw/react-md-editor v4.0.8
- **Markdown**: react-markdown + remark-gfm

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 
```
doshisha-media-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth/[...nextauth]/route.ts
â”‚   â”‚   â”œâ”€â”€ posts/                      # ç®¡ç†è€…ç”¨API
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ [id]/route.ts
â”‚   â”‚   â””â”€â”€ public-posts/               # ãƒ‘ãƒ–ãƒªãƒƒã‚¯ç”¨API
â”‚   â”‚       â”œâ”€â”€ route.ts
â”‚   â”‚       â”œâ”€â”€ [id]/route.ts
â”‚   â”‚       â””â”€â”€ category/[category]/route.ts
â”‚   â”œâ”€â”€ admin/                          # ç®¡ç†è€…ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ posts/
â”‚   â”‚       â”œâ”€â”€ new/page.tsx
â”‚   â”‚       â””â”€â”€ [id]/page.tsx
â”‚   â”œâ”€â”€ category/[category]/page.tsx    # ã‚«ãƒ†ã‚´ãƒªãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ posts/[id]/page.tsx            # è¨˜äº‹è©³ç´°
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx                        # ãƒ›ãƒ¼ãƒ 
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”œâ”€â”€ PostCard.tsx
â”‚   â””â”€â”€ RelatedPosts.tsx
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ supabase.ts
â”‚   â”œâ”€â”€ auth.ts
â”‚   â””â”€â”€ utils.ts                        # å…±é€šé–¢æ•°
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ database.ts                     # å‹å®šç¾©
â”‚   â””â”€â”€ next-auth.d.ts
â””â”€â”€ middleware.ts
```

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

### postsãƒ†ãƒ¼ãƒ–ãƒ«
```sql
posts {
  id: UUID (Primary Key)
  title: VARCHAR(255) NOT NULL
  content: TEXT NOT NULL (Markdown)
  category: ENUM('news', 'column', 'interview', 'survey')
  status: ENUM('draft', 'published') DEFAULT 'draft'
  published_at: TIMESTAMP
  created_at: TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  updated_at: TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  author_id: UUID
}
```

## ğŸ¯ å®Ÿè£…ã•ã‚ŒãŸURLæ§‹æˆ

### ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒ«ãƒ¼ãƒˆ
- `/` - ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ï¼ˆè¨˜äº‹ä¸€è¦§ï¼‰
- `/posts/[id]` - è¨˜äº‹è©³ç´°ãƒšãƒ¼ã‚¸
- `/category/[category]` - ã‚«ãƒ†ã‚´ãƒªåˆ¥è¨˜äº‹ä¸€è¦§

### ç®¡ç†è€…ãƒ«ãƒ¼ãƒˆ
- `/admin/login` - ç®¡ç†è€…èªè¨¼
- `/admin` - è¨˜äº‹ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- `/admin/posts/new` - æ–°è¦è¨˜äº‹ä½œæˆ
- `/admin/posts/[id]` - è¨˜äº‹ç·¨é›†

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- `/api/public-posts` - å…¬é–‹è¨˜äº‹ä¸€è¦§
- `/api/public-posts/[id]` - è¨˜äº‹è©³ç´°
- `/api/public-posts/category/[category]` - ã‚«ãƒ†ã‚´ãƒªåˆ¥è¨˜äº‹
- `/api/posts` - ç®¡ç†è€…ç”¨è¨˜äº‹ç®¡ç†
- `/api/posts/[id]` - ç®¡ç†è€…ç”¨è¨˜äº‹æ“ä½œ

## ğŸ”§ é–‹ç™ºç’°å¢ƒ

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
npm install
npm run dev          # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run build        # æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run lint         # ESLintå®Ÿè¡Œ
```

### ç’°å¢ƒå¤‰æ•°
```
NEXTAUTH_SECRET=ãƒ©ãƒ³ãƒ€ãƒ ãªç§˜å¯†éµ
NEXTAUTH_URL=http://localhost:3000
ADMIN_USERNAME=ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼å
ADMIN_PASSWORD=ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
NEXT_PUBLIC_SUPABASE_URL=Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=SupabaseåŒ¿åã‚­ãƒ¼
```

## ğŸš§ æœªå®Ÿè£…æ©Ÿèƒ½

1. **æ¤œç´¢æ©Ÿèƒ½** - è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ãƒ»å†…å®¹æ¤œç´¢
2. **ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³** - è¨˜äº‹ä¸€è¦§ã®åˆ†å‰²è¡¨ç¤º
3. **ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰** - è¨˜äº‹ã¸ã®ç”»åƒæ·»ä»˜
4. **ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½** - èª­è€…ã‚³ãƒ¡ãƒ³ãƒˆ
5. **ã„ã„ã­æ©Ÿèƒ½** - è¨˜äº‹è©•ä¾¡
6. **ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆæ©Ÿèƒ½** - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æŠ•ç¥¨

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

### ãƒ“ãƒ«ãƒ‰çµæœ
- **ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«**: âœ… æˆåŠŸï¼ˆESLintã‚¨ãƒ©ãƒ¼ä¿®æ­£æ¸ˆã¿ï¼‰
- **é™çš„ãƒšãƒ¼ã‚¸**: 11ãƒšãƒ¼ã‚¸ç”Ÿæˆ
- **ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º**: å…±æœ‰JS 131kB
- **èµ·å‹•æ™‚é–“**: 2.7ç§’

## ğŸ¯ ä»Šå¾Œã®æ”¹å–„ç‚¹

1. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–** - ISRã®æ´»ç”¨
2. **SEOå¼·åŒ–** - sitemap.xmlã€robots.txt
3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–** - ç”»åƒæœ€é©åŒ–ã€ã‚³ãƒ¼ãƒ‰åˆ†å‰²
4. **ãƒ†ã‚¹ãƒˆå®Ÿè£…** - Jest + Testing Library
5. **CI/CDæ§‹ç¯‰** - GitHub Actions

---

**æœ€çµ‚æ›´æ–°**: 2025-09-07  
**å®Ÿè£…å®Œäº†ç‡**: ç´„80% (ã‚³ã‚¢æ©Ÿèƒ½å®Œäº†)